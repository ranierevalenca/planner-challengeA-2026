<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Planner Challenge A 2026</title>

<style>
:root{
  --bg:#f7f6f3;
  --paper:#fffefc;
  --accent:#8aa29e;
  --text:#222;
  --soft:#efeae4;
  --dot:rgba(0,0,0,.25);
}
[data-theme="dark"]{
  --bg:#1f1f1f;
  --paper:#2a2a2a;
  --accent:#9fbdb6;
  --text:#f2f2f2;
  --soft:#333;
  --dot:rgba(255,255,255,.25);
}

*{box-sizing:border-box}
body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family:"Times New Roman",serif;
}
.wrap{max-width:1100px;margin:auto;padding:16px}
header{
  display:flex;
  flex-direction:column;
  gap:8px;
}
.brand{
  background:linear-gradient(90deg,var(--accent),#b7c8c0);
  color:#fff;
  padding:14px;
  border-radius:12px;
}
.controls{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  margin:16px 0;
}
button,select{
  padding:8px 12px;
  border-radius:8px;
  border:1px solid #ccc;
}
button.primary{
  background:var(--accent);
  color:#fff;
  border:none;
}

.week{
  background:var(--paper);
  padding:16px;
  border-radius:12px;
  margin-bottom:16px;
}
.date-box{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  margin:8px 0;
}
.date-display{
  border-bottom:2px dotted var(--dot);
  min-width:120px;
  padding:4px;
}

.axes{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(150px,1fr));
  gap:8px;
}
.axis{
  background:var(--soft);
  padding:8px;
  border-radius:8px;
}
.field{
  border-bottom:2px dotted var(--dot);
  min-height:28px;
}

.daily{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(120px,1fr));
  gap:8px;
  margin-top:12px;
}
.day{
  border:1px solid #ddd;
  border-radius:8px;
  padding:6px;
}
.day.today{
  outline:2px solid var(--accent);
}
.day .date{
  font-size:12px;
  opacity:.8;
}
.f{
  border-bottom:1px dashed #aaa;
  min-height:32px;
}

.notes{
  border:1px dashed #aaa;
  border-radius:8px;
  padding:8px;
  margin-top:8px;
}

footer{
  text-align:center;
  font-size:13px;
  opacity:.7;
  margin:24px 0;
}

@media print{
  header,.controls,footer{display:none}
  body{background:#fff}
  .week{page-break-inside:avoid}
}
</style>
</head>

<body>
<div class="wrap" data-theme="light" id="app">

<header>
  <div class="brand">
    <h2>Planner Challenge A</h2>
    <div>Educa√ß√£o Cl√°ssica Crist√£</div>
  </div>
  <em>‚ÄúCrescei na gra√ßa e no conhecimento‚Äù ‚Äî 2 Pedro 3:18</em>
</header>

<div class="controls">
  <button onclick="mostrarTodas()">Mostrar todas</button>
  <select id="seletor" onchange="mostrarSemana(this.value)">
    <option value="">Selecionar semana</option>
  </select>
  <button onclick="imprimirSemana()">Imprimir semana</button>
  <button onclick="exportarJSON()">Backup (.json)</button>
  <button onclick="alternarTema()">Tema claro/escuro</button>
  <button class="primary" onclick="window.print()">Imprimir tudo</button>
</div>

<main id="planner"></main>

<footer>
Planner pessoal ‚Ä¢ GitHub Pages ‚Ä¢ Raniere Dantas Valen√ßa
</footer>

</div>

<script>
const TOTAL=30;
const planner=document.getElementById("planner");
const seletor=document.getElementById("seletor");
const app=document.getElementById("app");

for(let i=1;i<=TOTAL;i++){
  const s=document.createElement("section");
  s.className="week";
  s.id="week-"+i;
  s.innerHTML=`
    <h3>Semana ${i}</h3>
    <div class="date-box">
      <label>üìÖ In√≠cio:
        <input type="date" class="calendar">
      </label>
      <div>Fim:</div>
      <div class="date-display end"></div>
    </div>

    <div class="axes">
      ${["L√≥gica","Gram√°tica","Pesquisa","Reda√ß√£o","Geografia","Ret√≥rica"]
        .map(a=>`<div class="axis"><strong>${a}</strong><div class="field" contenteditable></div></div>`).join("")}
    </div>

    <div class="daily">
      ${["Seg","Ter","Qua","Qui","Sex","S√°b","Dom"].map(d=>`
        <div class="day">
          <strong>${d}</strong>
          <div class="date"></div>
          <div class="f" contenteditable></div>
        </div>`).join("")}
    </div>

    <h4>Tutoria / Reflex√£o</h4>
    <div class="notes" contenteditable></div>
  `;
  planner.appendChild(s);

  const o=document.createElement("option");
  o.value=i;o.textContent="Semana "+i;
  seletor.appendChild(o);
}

function mostrarTodas(){
  document.querySelectorAll(".week").forEach(w=>w.style.display="block");
  seletor.value="";
}
function mostrarSemana(n){
  if(!n){mostrarTodas();return}
  document.querySelectorAll(".week").forEach(w=>w.style.display="none");
  document.getElementById("week-"+n).style.display="block";
  document.getElementById("week-"+n).scrollIntoView({behavior:"smooth"});
}
function imprimirSemana(){
  if(!seletor.value)return alert("Selecione uma semana");
  mostrarSemana(seletor.value);
  setTimeout(()=>window.print(),100);
}
function alternarTema(){
  app.dataset.theme=app.dataset.theme==="dark"?"light":"dark";
  localStorage.setItem("tema",app.dataset.theme);
}

document.addEventListener("change",e=>{
  if(!e.target.classList.contains("calendar"))return;
  const week=e.target.closest(".week");
  let d=new Date(e.target.value+"T00:00");
  const dow=d.getDay();
  d.setDate(d.getDate()-(dow===0?6:dow-1));
  const end=new Date(d);end.setDate(d.getDate()+6);
  week.querySelector(".end").textContent=end.toLocaleDateString();
  week.querySelectorAll(".day").forEach((day,i)=>{
    const dt=new Date(d);dt.setDate(d.getDate()+i);
    day.querySelector(".date").textContent=dt.toLocaleDateString();
    day.classList.toggle("today",dt.toDateString()===new Date().toDateString());
  });
  salvarTudo();
});

function salvarTudo(){
  localStorage.setItem("planner_backup",planner.innerHTML);
}
function restaurar(){
  const b=localStorage.getItem("planner_backup");
  if(b)planner.innerHTML=b;
  const t=localStorage.getItem("tema");
  if(t)app.dataset.theme=t;
}
function exportarJSON(){
  const data={html:planner.innerHTML,tema:app.dataset.theme};
  const blob=new Blob([JSON.stringify(data,null,2)],{type:"application/json"});
  const a=document.createElement("a");
  a.href=URL.createObjectURL(blob);
  a.download="planner_backup.json";
  a.click();
}

document.addEventListener("input",salvarTudo);
restaurar();
</script>

</body>
</html>
